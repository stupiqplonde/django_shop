<!--{% extends "base.html" %}-->

<!--{% block title %}üõí –ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫{% endblock %}-->

<!--{% block content %}-->
<!--<div class="row">-->
<!--    <div class="col-12">-->
<!--        <h1 class="display-5 mb-4">üõí –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h1>-->
<!--    </div>-->
<!--</div>-->

<!--{% if cart %}-->
<!--<div class="row">-->
<!--    <div class="col-lg-8">-->
<!--        <div class="card shadow-sm mb-4">-->
<!--            <div class="card-body">-->
<!--                <div class="table-responsive">-->
<!--                    <table class="table table-hover">-->
<!--                        <thead class="table-light">-->
<!--                            <tr>-->
<!--                                <th>–¢–æ–≤–∞—Ä</th>-->
<!--                                <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th>-->
<!--                                <th>–¶–µ–Ω–∞</th>-->
<!--                                <th>–°—É–º–º–∞</th>-->
<!--                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>-->
<!--                            </tr>-->
<!--                        </thead>-->
<!--                        <tbody>-->
<!--                            {% for item in cart %}-->
<!--                            <tr>-->
<!--                                <td>-->
<!--                                    <div class="d-flex align-items-center">-->
<!--                                        {% if item.product.image %}-->
<!--                                            <img src="{{ item.product.image.url }}" -->
<!--                                                 width="60" -->
<!--                                                 class="rounded me-3" -->
<!--                                                 alt="{{ item.product.name }}">-->
<!--                                        {% else %}-->
<!--                                            <img src="/static/images/no-image.png" -->
<!--                                                 width="60" -->
<!--                                                 class="rounded me-3" -->
<!--                                                 alt="{{ item.product.name }}">-->
<!--                                        {% endif %}-->
<!--                                        <div>-->
<!--                                            <h6 class="mb-0">{{ item.product.name }}</h6>-->
<!--                                            <small class="text-muted">{{ item.product.category.name }}</small>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </td>-->
<!--                                <td>{{ item.quantity }}</td>-->
<!--                                <td>{{ item.price }} ‚ÇΩ</td>-->
<!--                                <td><strong>{{ item.total_price }} ‚ÇΩ</strong></td>-->
<!--                                <td>-->
<!--                                    <form action="{% url 'cart_remove' item.product.id %}" method="post" class="d-inline">-->
<!--                                        {% csrf_token %}-->
<!--                                        <button type="submit" class="btn btn-danger btn-sm">-->
<!--                                            ‚ùå –£–¥–∞–ª–∏—Ç—å-->
<!--                                        </button>-->
<!--                                    </form>-->
<!--                                </td>-->
<!--                            </tr>-->
<!--                            {% endfor %}-->
<!--                        </tbody>-->
<!--                    </table>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        -->
<!--        &lt;!&ndash; –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π &ndash;&gt;-->
<!--        <div class="d-flex justify-content-between mb-5">-->
<!--            <a href="{% url 'product_list' %}" class="btn btn-outline-primary">-->
<!--                ‚Üê –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏-->
<!--            </a>-->
<!--            <form action="#" method="post">-->
<!--                {% csrf_token %}-->
<!--                <button type="submit" class="btn btn-danger">-->
<!--                    üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É-->
<!--                </button>-->
<!--            </form>-->
<!--        </div>-->
<!--    </div>-->
<!--    -->
<!--    &lt;!&ndash; –ò—Ç–æ–≥–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è &ndash;&gt;-->
<!--    <div class="col-lg-4">-->
<!--        <div class="card shadow-sm sticky-top" style="top: 20px;">-->
<!--            <div class="card-header bg-primary text-white">-->
<!--                <h5 class="mb-0">üìã –ò—Ç–æ–≥–∏ –∑–∞–∫–∞–∑–∞</h5>-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <div class="mb-3">-->
<!--                    <div class="d-flex justify-content-between mb-2">-->
<!--                        <span>–¢–æ–≤–∞—Ä—ã ({{ cart|length }} —à—Ç.)</span>-->
<!--                        <span>{{ cart.get_total_price }} ‚ÇΩ</span>-->
<!--                    </div>-->
<!--                    <div class="d-flex justify-content-between mb-2">-->
<!--                        <span>–î–æ—Å—Ç–∞–≤–∫–∞</span>-->
<!--                        <span class="text-success">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</span>-->
<!--                    </div>-->
<!--                    <hr>-->
<!--                    <div class="d-flex justify-content-between mb-3">-->
<!--                        <span class="h5">–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ:</span>-->
<!--                        <span class="h4 text-primary">{{ cart.get_total_price }} ‚ÇΩ</span>-->
<!--                    </div>-->
<!--                </div>-->
<!--                -->
<!--                <div class="d-grid gap-2">-->
<!--                    <a href="#" class="btn btn-success btn-lg">-->
<!--                        üí≥ –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é-->
<!--                    </a>-->
<!--                    <a href="{% url 'product_list' %}" class="btn btn-outline-secondary">-->
<!--                        –î–æ–±–∞–≤–∏—Ç—å –µ—â–µ —Ç–æ–≤–∞—Ä—ã-->
<!--                    </a>-->
<!--                </div>-->
<!--                -->
<!--                <div class="mt-3 text-center">-->
<!--                    <small class="text-muted">-->
<!--                        <i class="bi bi-shield-check"></i>-->
<!--                        –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–ø–ª–∞—Ç–∞ ¬∑ –ì–∞—Ä–∞–Ω—Ç–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞-->
<!--                    </small>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--{% else %}-->
<!--&lt;!&ndash; –ü—É—Å—Ç–∞—è –∫–æ—Ä–∑–∏–Ω–∞ &ndash;&gt;-->
<!--<div class="row justify-content-center">-->
<!--    <div class="col-md-6 text-center py-5">-->
<!--        <div class="mb-4">-->
<!--            <div style="font-size: 5rem;">üõí</div>-->
<!--        </div>-->
<!--        <h3>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h3>-->
<!--        <p class="text-muted mb-4">–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –∑–∞–∫–∞–∑</p>-->
<!--        <a href="{% url 'product_list' %}" class="btn btn-primary btn-lg">-->
<!--            üõçÔ∏è –ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–∫—É–ø–∫–∞–º-->
<!--        </a>-->
<!--    </div>-->
<!--</div>-->
<!--{% endif %}-->
<!--{% endblock %}-->

{% extends "base.html" %}

{% block title %}{{ product.name }} - TechStore{% endblock %}

{% block content %}
<div class="apple-section">
    <div class="row">
        <div class="col-lg-6 mb-4">
            <div class="apple-card p-4">
                {% if product.image %}
                    <img src="{{ product.image.url }}" class="img-fluid rounded-3" alt="{{ product.name }}" style="max-height: 500px; object-fit: contain;">
                {% else %}
                    <div class="d-flex align-items-center justify-content-center" style="height: 400px; background: linear-gradient(135deg, #f5f5f7 0%, #ffffff 100%); border-radius: 20px;">
                        <div class="text-center">
                            <div class="display-1 mb-3">üì±</div>
                            <p class="text-muted">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ</p>
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>

        <div class="col-lg-6">
            <div class="sticky-top" style="top: 100px;">
                <div class="d-flex align-items-center mb-3">
                    <span class="badge-apple me-2">{{ product.category.name }}</span>
                    {% if product.price > 100000 %}
                    <span class="badge bg-warning">–ü—Ä–µ–º–∏—É–º</span>
                    {% endif %}
                </div>

                <h1 class="display-5 fw-bold mb-3">{{ product.name }}</h1>
                <p class="lead text-primary fw-bold mb-4">{{ product.price }} ‚ÇΩ</p>

                <div class="mb-4">
                    <h5 class="fw-bold mb-3">–û–ø–∏—Å–∞–Ω–∏–µ</h5>
                    <p class="text-muted" style="line-height: 1.8;">{{ product.description }}</p>
                </div>

                <div class="mb-4">
                    <h5 class="fw-bold mb-3">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h5>
                    <div class="row g-2">
                        <div class="col-6">
                            <small class="text-muted">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</small>
                            <p class="fw-bold">{{ product.category.name }}</p>
                        </div>
                        <!-- –î–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–≥–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∑–¥–µ—Å—å -->
                    </div>
                </div>

                <form action="#" method="post" class="mb-4">
                    {% csrf_token %}
                    <div class="d-flex align-items-center gap-3 mb-4">
                        <div class="input-group" style="max-width: 150px;">
                            <button type="button" class="btn btn-outline-secondary" onclick="decreaseQuantity()">‚àí</button>
                            <input type="number" name="quantity" value="1" min="1" max="10" class="form-control text-center" id="quantityInput">
                            <button type="button" class="btn btn-outline-secondary" onclick="increaseQuantity()">+</button>
                        </div>
                        <div>
                            <button type="submit" class="apple-btn btn">
                                –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                            </button>
                        </div>
                    </div>
                </form>

                <div class="apple-card p-3">
                    <div class="d-flex align-items-center">
                        <div class="me-3">üöö</div>
                        <div>
                            <small class="fw-bold">–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</small>
                            <p class="text-muted mb-0">–ü—Ä–∏ –∑–∞–∫–∞–∑–µ –æ—Ç 50,000 ‚ÇΩ</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function increaseQuantity() {
    const input = document.getElementById('quantityInput');
    if (input.value < 10) input.value++;
}

function decreaseQuantity() {
    const input = document.getElementById('quantityInput');
    if (input.value > 1) input.value--;
}
</script>
{% endblock %}